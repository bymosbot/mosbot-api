apiVersion: v1
kind: ConfigMap
metadata:
  name: mosbot-api-config
  namespace: mosbot
data:
  JWT_EXPIRES_IN: "7d"
  CORS_ORIGIN: "*"  # Override in production overlay with actual frontend URL
  # Archive Job Configuration
  ENABLE_ARCHIVER: "true"
  ARCHIVE_CRON: "0 3 * * *"  # Default: 3 AM daily
  ARCHIVE_AFTER_DAYS: "7"  # Archive tasks DONE for more than 7 days
  ARCHIVE_ON_STARTUP: "false"  # Set to "true" to run archive job on startup
  # OpenClaw Workspace Integration
  OPENCLAW_WORKSPACE_URL: "http://openclaw-workspace.agents.svc.cluster.local:8080"
  # Subagent Data Retention Configuration
  SUBAGENT_RETENTION_DAYS: "30"  # Days to retain completed subagents
  ACTIVITY_LOG_RETENTION_DAYS: "7"  # Days to retain activity logs
  RETENTION_ARCHIVE_ENABLED: "true"  # Archive purged entries before deletion
  ENABLE_SUBAGENT_RETENTION_PURGE: "true"  # Enable automatic retention purge
  SUBAGENT_RETENTION_CRON: "0 3 * * *"  # Default: 3 AM daily (Asia/Singapore)
  SUBAGENT_RETENTION_ON_STARTUP: "false"  # Set to "true" to run purge on startup
